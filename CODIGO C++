#include<stdio.h>
#include<string.h>
#include<math.h>
#include<stdlib.h>
#include <windows.h>



void menu();
void menu2();
void energias();


int main(void){
     HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
     SetConsoleOutputCP(CP_UTF8);
     WriteConsoleW(hConsole, L"ÁÉÍÓÚÑáéíóúñ", 14, NULL, NULL); //Comando para que escriba comas y ñ
     system("cls");


     menu();
     return 0;
}
void energias(){
    int energia;

     printf("Elige el tipo de energia del que quieras buscar información:\n");
     printf("Te ofrecemos una lista de las energías: 1)Hidráulica\n2)Turbinación bombeo\n3)Nuclear\n4)Carbón\n5)Fuel + Gas\n6)Motores diésel\n7)Turbina de gas\n");
     printf("8)Turbina de vapor\n9)Ciclo combinado\n 10)Eolica\n11)Solar fotovoltaica12)Solar térmica\n13)Otras renovables\n14)Cogeneración\n15)Residuos no renovables\n16)Residuos renovables\n");
     scanf("%i",&energia);
     switch (energia){

     case '1':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
     case '2':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
        case '3':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
        case '4':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '5':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '6':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '7':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '8':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '9':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '10':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '11':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '12':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '13':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '14':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '15':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;
         case '16':
        system("cls");
        printf("Ha elegido la energía Hidráulica.");
        //Funcion elegir que hacer con ella
        break;





     }
}
void menu2() {

    char opcion;
    int mes, year;
    printf("Elige de qué forma quieres comparar los datos:\n\n");
    printf("a) Por fecha\nb) Por tipo de energía\nc) Por año\nd) Salir\n");

    do {
        scanf(" %c", &opcion);
        if (opcion != 'a' && opcion != 'b' && opcion != 'c' && opcion != 'd') {
            printf("Escribe una de las letras indicadas, por favor.\n");
        }
        while (getchar() != '\n');
    }
    while (opcion != 'a' && opcion != 'b' && opcion != 'c' && opcion != 'd');// no sale del bucle hasta que no ponga la letra indicada

    switch (opcion) {

        case 'a':
            system("cls");
            printf("Has elegido consultar los datos por las fechas.\n");
            printf("Elija la fecha de la que quiere buscar datos entre los años 2021-2022:\n");
            printf("Introduzca el mes\n");

            do {
             scanf("%i",&mes);
             if(mes<0 || mes>13)
                {
                 printf("\nMes incorrecto, intentelo de nuevo.\n");
                }

              } while (mes<0 || mes>13);

            printf("Introduzca el año\n");
            do{
             scanf("%i",&year);
             if( year != 2021 && year != 2022)
                {
                 printf("El año introducido no esta en nuestro registro de datos, intentelo de nuevo\n");
                }

              } while( year != 2021 && year != 2022);

             printf("La fecha elegida es %i-%i", mes, year);


            break;

        case 'b':
            system("cls");
            printf("Has elegido consultar los datos por el tipo de energía.\n");
            energias();
            break;

        case 'c':
            system("cls");
            printf("Has elegido consultar los datos por el año.\n");
            break;

        case 'd':
            system("cls");
            printf("Vuelva pronto a consultar nuestros datos pronto.\n");
            break;

    }
}

void menu() {
    char nombre[30];
    int aux;

    printf("Bienvenido a STATSMAT.\nEsta aplicación está comprometida a brindarle servicios de estadística confiables y personalizados que impulsen su éxito.\n");
    printf("Para comenzar a usar esta aplicación, lo primero que necesitaríamos sería el nombre del usuario:\n");
    scanf("%29[^\n]", nombre);
    system("cls");
    printf("Gracias por usar nuestra aplicación, %s.\n\nA continuación elija sobre qué tipo de información quiere que le hablemos (Pulse el número deseado):\n\n", nombre);
    printf("1.- Emisiones de CO2\n");
    printf("2.- GWh consumidos\n");
    printf("Pulsa 0 si quieres salir\n");

do {
        while (scanf("%i", &aux) != 1 || (aux != 0 && aux != 1 && aux != 2))
            {
            while (getchar() != '\n');
            printf("Elige un número entre 1 y 2, por favor.\n");
            system("pause");
            }

        while (getchar() != '\n');

        if (aux == 0){

            system("cls");
            printf("Vuelve cuando quieras, esperamos haberle ayudado.\n");
            }
        else
            {
            system("cls");

            if (aux == 1) {

                printf("Has elegido emisiones CO2.\n");
                menu2();
            }
            else if (aux == 2) {

                printf("Has elegido GWh.\n");
                menu2();
            }
        }
    } while (aux != 0);
}


